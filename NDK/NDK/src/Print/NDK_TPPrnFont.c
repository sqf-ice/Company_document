/*
* 新大陆公司 版权所有(c) 2011-2015
*
* 统一平台NDK API
* 作    者：    产品开发部
* 日    期：    2012-08-17
* 版    本：    V1.00
* 最后修改人：
* 最后修改日期：
*/

#include "NDK_TPPrint.h"
#include "NDK_TPPrnDrv.h"
#include "NDK_TPPrnFont.h"
#include "NDK.h"
#include "NDK_debug.h"



static int yDotchange(char * ch1, int iYMagnify, int x,int y);
static void xDotchange(int iXMagnify,int iX,int iY);
static void XYCompress(int iXMagnify,int iYMagnify,int iX,int iY);



/*
***********************************************************************************************
* 版权说明：@newlandcomputer
* 版本号：
* 生成日期：2007-03-08
* 作者：    大脸猫
* 模块目的/功能：热敏打印字体转换算法，主要是字体的放大、缩小等。用于拷贝到片内RAM400h地址运行。
* 主要函数及其功能：
* 修改日志：
***********************************************************************************************
*/


/*字体转换缓冲*/
unsigned char g_pucFontBuf[TPFC_VAR_FONT_BUF_LEN];

// int iXMagnify,int iYMagnify横向放大倍数和纵向放大倍数
// x,y当前的的点阵大小16×2或者48×2
// 注意，由于调用程序的限制，一定是先纵向调整，再横向调整
void ndk_DotChange(char * ch1, int iXMagnify, int iYMagnify, int x, int y)
{
    int iTempX,iTempY;

    yDotchange(ch1,iYMagnify,x,y);  /*纵向放大到 iYMagnify倍*/

    if (iYMagnify&1) {              /*纵向需要缩小*/
        if (iYMagnify>1)
            iTempY=iYMagnify*y;     /*被放大到的倍数*/
        else
            iTempY=y;
    } else
        iTempY=iYMagnify*y/2;

    xDotchange(iXMagnify,x,iTempY); /*横向放大到 iXMagnify倍*/

    if (iXMagnify&1) {              /*横向需要缩小*/
        if (iXMagnify>1)
            iTempX=(iXMagnify)*x;   /*被放大到的倍数*/
        else
            iTempX=x;
    } else
        iTempX=iXMagnify*x/2;

    XYCompress(iXMagnify,iYMagnify,iTempX,iTempY);
}

static int yDotchange(char * ch1, int iYMagnify, int x,int y)
{
    int i,j,k,iMagnify;

    if (!(iYMagnify&1)) {               /*如果只作放大不做压缩*/
        iMagnify=iYMagnify/2;
    } else {
        iMagnify=iYMagnify;
    }

    /*----------------纵向放大n倍--------------------------*/
    if (iMagnify==1) {                  /*如果没有放大不作处理直接拷贝*/
        for (i = 0; i < y*8; i++) {
            for (j = 0; j < x/8; j++) {
                *(g_pucFontBuf+6*i+j) = *(ch1+i*x/8+j);
            }
        }
    } else if ((iMagnify*y)<=6&&iMagnify>1) {
        for (k = 8*y - 1; k >= 0; k--) {            /*从下边开始拷贝，这样不会破坏g_pucFontBuf前面的数据*/
            for (i = x/8 - 1; i >= 0; i--) {        /*从右边开始拷贝，这样不会破坏g_pucFontBuf前面的数据*/
                for (j = iMagnify-1; j>=0; j--) {
                    *(g_pucFontBuf+i+(iMagnify*k+j)*6) = ch1[i+k*x/8];
                }
            }
        }

    } else
        return -1;

    return 0;
}

/*******************************************************************************
* FUNCTION:
*       x  方向上放大函数
*
* DESCRIPTION:
*       x方向单位为点
*
* INPUTS:
*        iXMagnify,iYMagnify 的放大倍数,iX,iY,当前全局变量中的缓冲区大小
*
* OUTPUTS:
*        g_pucFontBuf[][]全局变量返回打印缓冲
*
* RETURNS:
*        None
*
* COMMENTS:
*
*******************************************************************************/

static void xDotchange(int iXMagnify,int iX,int iY)
{
    int i,j,iMagnify;

    if (!(iXMagnify&1)) {
        iMagnify=iXMagnify/2;
    } else
        iMagnify=iXMagnify;

    /*----------------横向放大n倍--------------------------*/
    if ((iMagnify>1)&&(iMagnify*iX<=48)) {
        if (2 == iMagnify) {                        /*2倍放大*/
            for (j = 8*iY-1; j >= 0; j--) {             /*后面的行先转换，避免破坏g_pucFontBuf的数据*/
                for (i = iX/8 - 1; i >= 0; i--) {       /*右边的字节先转换*/
                    /*查表填充结果*/
                    *(g_pucFontBuf+6*j+2*i+1) = *(g_pucZoom2Buf + (*(g_pucFontBuf+6*j+i))*2);/*右边的先赋值*/
                    *(g_pucFontBuf+6*j+2*i) = *(g_pucZoom2Buf + (*(g_pucFontBuf+6*j+i))*2+1);
                }
            }
        } else if (3 == iMagnify) {                     /*3倍放大*/
            for (j = 8*iY-1; j >= 0; j--) {             /*后面的行先转换，避免破坏g_pucFontBuf的数据*/
                for (i = iX/8 - 1; i >= 0; i--) {       /*右边的字节先转换*/
                    /*查表填充结果*/
                    *(g_pucFontBuf+6*j+3*i+2) = *(g_pucZoom3Buf+(*(g_pucFontBuf+6*j+i))*3);/*右边的先转换*/
                    *(g_pucFontBuf+6*j+3*i+1) = *(g_pucZoom3Buf+(*(g_pucFontBuf+6*j+i))*3+1);
                    *(g_pucFontBuf+6*j+3*i) = *(g_pucZoom3Buf+(*(g_pucFontBuf+6*j+i))*3+2);
                }
            }
        }
    }
}

/*******************************************************************************
* FUNCTION:
*       x y 方向上压缩函数
*
* DESCRIPTION:
*       x方向单位为点，y方向上单位为字节
*
* INPUTS:
*        iXMagnify,iYMagnify 的放大倍数,iX,iY,当前全局变量中的缓冲区大小
*
* OUTPUTS:
*        g_pucFontBuf[][]全局变量返回打印缓冲
*
* RETURNS:
*        None
*
* COMMENTS:
*
*******************************************************************************/
static void XYCompress(int iXMagnify,int iYMagnify,int iX,int iY)
{
    int i,j,k,m,n,iMagnify;
    char cXMagnifyflag=0;                       /*默认不用压缩*/
    char cYMagnifyflag=0;                       /*默认不用压缩*/
    unsigned char ucAndVal, ucOrVal;

    //x y 都需要压缩
    //优化算法，利用4个点合并成一个点
    if ((iYMagnify&1)&&(iXMagnify&1)) {
        if ((iX/8)&1) {                             /*横方向奇数字节做x,y压缩，需要补一列字节零*/
            for (j = 0; j < 8*iY; j++) {
                *(g_pucFontBuf+6*j+iX/8) = 0;   /*增加一字节零，补成偶数字节数*/
            }
        }

        if (iY&1) {                                 /*竖方向奇数字节做x,y压缩，需要补一行字节零*/
            for (i = 0; i < (iX/8+((iX/8)&1)); i++) {
                *(g_pucFontBuf+6*(iY*8)+i) = 0;
            }
        }

        for (i = 0; i < iX/8; i += 2) {         /*x方向*/
            for (j = 0; j < 8*iY; j += 2) {         /*y方向*/
                /*前半字节*/
                ucOrVal = ((*(g_pucFontBuf+6*j+i)) | (*(g_pucFontBuf+6*(j+1)+i)));      /*与运算结果*/
                ucAndVal = ((*(g_pucFontBuf+6*j+i)) & (*(g_pucFontBuf+6*(j+1)+i)));     /*或运算结果*/
                *(g_pucFontBuf+6*(j/2)+i/2) = 0;

                for (k = 0; k < 4; k++) {                           /*低4字节*/
                    if (0xc0 == (ucOrVal&0xc0)) {                   /*全高必是两个以上黑点*/
                        *(g_pucFontBuf+6*(j/2)+i/2) |= (0x80>>k);
                    } else if (ucAndVal&0xc0) {                     /*与结果不为零，说明也至少有两个黑点*/
                        *(g_pucFontBuf+6*(j/2)+i/2) |= (0x80>>k);
                    }

                    ucOrVal <<= 2;
                    ucAndVal <<= 2;
                }

                /*后半字节*/
                ucOrVal = ((*(g_pucFontBuf+6*j+i+1)) | (*(g_pucFontBuf+6*(j+1)+i+1)));  /*与运算结果*/
                ucAndVal = ((*(g_pucFontBuf+6*j+i+1)) & (*(g_pucFontBuf+6*(j+1)+i+1))); /*或运算结果*/

                for (k = 0; k < 4; k++) {               /*高4字节*/
                    if (0xc0 == (ucOrVal&0xc0)) {       /*全高必是两个以上黑点*/
                        *(g_pucFontBuf+6*(j/2)+i/2) |= (0x08>>k);
                    } else if (ucAndVal&0xc0) {         /*与结果不为零，说明也至少有两个黑点*/
                        *(g_pucFontBuf+6*(j/2)+i/2) |= (0x08>>k);
                    }

                    ucOrVal <<= 2;
                    ucAndVal <<= 2;
                }
            }
        }

        return;
    }

    if ((iYMagnify&1)) {            /*如果只作放大不做压缩(偶数)*/
        iMagnify=iYMagnify;         /*得到真实放大倍数*/
    } else {
        iMagnify=iYMagnify/2;   /* 保持原来的放大倍数*/
    }

    if (iMagnify>1)
        cYMagnifyflag=1;

    if (iYMagnify&1) {

        if (iY&1) {                 /*竖方向奇数字节做y压缩，需要补一行字节零*/
            for (i = 0; i < iX/8; i++) {
                *(g_pucFontBuf+6*(iY*8)+i) = 0;
            }
        }
        //如果还需要压缩一倍
        for (j = 0; j < iX/8; j++) {
            k=0;
            // y<2*3
            if (cYMagnifyflag) {    /*y方向有放大过，需要两点都是1才为黑点*/
                for (m = 0; m < 8*iY*iMagnify; m += 2) {
                    *(g_pucFontBuf+6*(m/2)+j) = ((*(g_pucFontBuf+6*m+j)) & (*(g_pucFontBuf+6*(m+1)+j)));

                }
            } else {                /*y方向没有放大过，有一点是1就为黑点*/
                for (m = 0; m < 8*iY*iMagnify; m += 2) {
                    *(g_pucFontBuf+6*(m/2)+j) = ((*(g_pucFontBuf+6*m+j)) | (*(g_pucFontBuf+6*(m+1)+j)));
                }
            }
        }
        return;
    }

    if ((iXMagnify&1)) {            /*如果只作放大不做压缩(偶数)*/
        iMagnify=iXMagnify;         /*得到真实放大倍数*/
    } else {
        iMagnify=iXMagnify/2;   /*保持原来的放大倍数*/
    }

    if (iMagnify>1)
        cXMagnifyflag=1;

    // x 方向上必须压缩
    if (iXMagnify&1) {
        if ((iX/8)&1) {             /*横方向奇数字节做x压缩，需要补一列字节零*/
            for (j = 0; j < 8*iY; j++) {
                *(g_pucFontBuf+6*j+iX/8) = 0;   /*增加一字节零，补成偶数字节数*/
            }
        }

        for (n=0; n<8*iY; n++) {
            if (cXMagnifyflag) {                        /*已经放大过,用紧凑压缩数组*/
                for (i = 0; i < (iX/8+1)/2; i++) {      /*从左向右转换,奇数字节的需要冗余半字节*/
                    *(g_pucFontBuf+n*6+i) =
                        (((*(g_pucCloseCompressBuf + ((*(g_pucFontBuf+n*6+2*i))>>4)))<<6)
                         | ((*(g_pucCloseCompressBuf + ((*(g_pucFontBuf+n*6+2*i))&0x0f)))<<4)
                         | ((*(g_pucCloseCompressBuf + ((*(g_pucFontBuf+n*6+2*i+1))>>4)))<<2)
                         | (*(g_pucCloseCompressBuf + ((*(g_pucFontBuf+n*6+2*i+1))&0x0f))));
                }
            } else {                                    /*没有放大过，用宽松压缩数组*/
                for (i = 0; i < (iX/8+1)/2; i++) {      /*从左向右转换,奇数字节的需要冗余半字节*/
                    *(g_pucFontBuf+n*6+i) =
                        (((*(g_pucLooseCompressBuf + ((*(g_pucFontBuf+n*6+2*i))>>4)))<<6)
                         | ((*(g_pucLooseCompressBuf + ((*(g_pucFontBuf+n*6+2*i))&0x0f)))<<4)
                         | ((*(g_pucLooseCompressBuf + ((*(g_pucFontBuf+n*6+2*i+1))>>4)))<<2)
                         | (*(g_pucLooseCompressBuf + ((*(g_pucFontBuf+n*6+2*i+1))&0x0f))));
                }
            }
        }
    }
}

/*纵向3倍放大转换数组，第一维是单字节数据值，第二维是转换后的字节*/
//const unsigned char c_ucVerticalZoom3[256][3] =
const unsigned char g_pucZoom3Buf[TPFC_VAR_ZOOM3_LEN] = {
    0x00, 0x00, 0x00,
    0x07, 0x00, 0x00,
    0x38, 0x00, 0x00,
    0x3f, 0x00, 0x00,
    0xc0, 0x01, 0x00,
    0xc7, 0x01, 0x00,
    0xf8, 0x01, 0x00,
    0xff, 0x01, 0x00,
    0x00, 0x0e, 0x00,
    0x07, 0x0e, 0x00,
    0x38, 0x0e, 0x00,
    0x3f, 0x0e, 0x00,
    0xc0, 0x0f, 0x00,
    0xc7, 0x0f, 0x00,
    0xf8, 0x0f, 0x00,
    0xff, 0x0f, 0x00,
    0x00, 0x70, 0x00,
    0x07, 0x70, 0x00,
    0x38, 0x70, 0x00,
    0x3f, 0x70, 0x00,
    0xc0, 0x71, 0x00,
    0xc7, 0x71, 0x00,
    0xf8, 0x71, 0x00,
    0xff, 0x71, 0x00,
    0x00, 0x7e, 0x00,
    0x07, 0x7e, 0x00,
    0x38, 0x7e, 0x00,
    0x3f, 0x7e, 0x00,
    0xc0, 0x7f, 0x00,
    0xc7, 0x7f, 0x00,
    0xf8, 0x7f, 0x00,
    0xff, 0x7f, 0x00,
    0x00, 0x80, 0x03,
    0x07, 0x80, 0x03,
    0x38, 0x80, 0x03,
    0x3f, 0x80, 0x03,
    0xc0, 0x81, 0x03,
    0xc7, 0x81, 0x03,
    0xf8, 0x81, 0x03,
    0xff, 0x81, 0x03,
    0x00, 0x8e, 0x03,
    0x07, 0x8e, 0x03,
    0x38, 0x8e, 0x03,
    0x3f, 0x8e, 0x03,
    0xc0, 0x8f, 0x03,
    0xc7, 0x8f, 0x03,
    0xf8, 0x8f, 0x03,
    0xff, 0x8f, 0x03,
    0x00, 0xf0, 0x03,
    0x07, 0xf0, 0x03,
    0x38, 0xf0, 0x03,
    0x3f, 0xf0, 0x03,
    0xc0, 0xf1, 0x03,
    0xc7, 0xf1, 0x03,
    0xf8, 0xf1, 0x03,
    0xff, 0xf1, 0x03,
    0x00, 0xfe, 0x03,
    0x07, 0xfe, 0x03,
    0x38, 0xfe, 0x03,
    0x3f, 0xfe, 0x03,
    0xc0, 0xff, 0x03,
    0xc7, 0xff, 0x03,
    0xf8, 0xff, 0x03,
    0xff, 0xff, 0x03,
    0x00, 0x00, 0x1c,
    0x07, 0x00, 0x1c,
    0x38, 0x00, 0x1c,
    0x3f, 0x00, 0x1c,
    0xc0, 0x01, 0x1c,
    0xc7, 0x01, 0x1c,
    0xf8, 0x01, 0x1c,
    0xff, 0x01, 0x1c,
    0x00, 0x0e, 0x1c,
    0x07, 0x0e, 0x1c,
    0x38, 0x0e, 0x1c,
    0x3f, 0x0e, 0x1c,
    0xc0, 0x0f, 0x1c,
    0xc7, 0x0f, 0x1c,
    0xf8, 0x0f, 0x1c,
    0xff, 0x0f, 0x1c,
    0x00, 0x70, 0x1c,
    0x07, 0x70, 0x1c,
    0x38, 0x70, 0x1c,
    0x3f, 0x70, 0x1c,
    0xc0, 0x71, 0x1c,
    0xc7, 0x71, 0x1c,
    0xf8, 0x71, 0x1c,
    0xff, 0x71, 0x1c,
    0x00, 0x7e, 0x1c,
    0x07, 0x7e, 0x1c,
    0x38, 0x7e, 0x1c,
    0x3f, 0x7e, 0x1c,
    0xc0, 0x7f, 0x1c,
    0xc7, 0x7f, 0x1c,
    0xf8, 0x7f, 0x1c,
    0xff, 0x7f, 0x1c,
    0x00, 0x80, 0x1f,
    0x07, 0x80, 0x1f,
    0x38, 0x80, 0x1f,
    0x3f, 0x80, 0x1f,
    0xc0, 0x81, 0x1f,
    0xc7, 0x81, 0x1f,
    0xf8, 0x81, 0x1f,
    0xff, 0x81, 0x1f,
    0x00, 0x8e, 0x1f,
    0x07, 0x8e, 0x1f,
    0x38, 0x8e, 0x1f,
    0x3f, 0x8e, 0x1f,
    0xc0, 0x8f, 0x1f,
    0xc7, 0x8f, 0x1f,
    0xf8, 0x8f, 0x1f,
    0xff, 0x8f, 0x1f,
    0x00, 0xf0, 0x1f,
    0x07, 0xf0, 0x1f,
    0x38, 0xf0, 0x1f,
    0x3f, 0xf0, 0x1f,
    0xc0, 0xf1, 0x1f,
    0xc7, 0xf1, 0x1f,
    0xf8, 0xf1, 0x1f,
    0xff, 0xf1, 0x1f,
    0x00, 0xfe, 0x1f,
    0x07, 0xfe, 0x1f,
    0x38, 0xfe, 0x1f,
    0x3f, 0xfe, 0x1f,
    0xc0, 0xff, 0x1f,
    0xc7, 0xff, 0x1f,
    0xf8, 0xff, 0x1f,
    0xff, 0xff, 0x1f,
    0x00, 0x00, 0xe0,
    0x07, 0x00, 0xe0,
    0x38, 0x00, 0xe0,
    0x3f, 0x00, 0xe0,
    0xc0, 0x01, 0xe0,
    0xc7, 0x01, 0xe0,
    0xf8, 0x01, 0xe0,
    0xff, 0x01, 0xe0,
    0x00, 0x0e, 0xe0,
    0x07, 0x0e, 0xe0,
    0x38, 0x0e, 0xe0,
    0x3f, 0x0e, 0xe0,
    0xc0, 0x0f, 0xe0,
    0xc7, 0x0f, 0xe0,
    0xf8, 0x0f, 0xe0,
    0xff, 0x0f, 0xe0,
    0x00, 0x70, 0xe0,
    0x07, 0x70, 0xe0,
    0x38, 0x70, 0xe0,
    0x3f, 0x70, 0xe0,
    0xc0, 0x71, 0xe0,
    0xc7, 0x71, 0xe0,
    0xf8, 0x71, 0xe0,
    0xff, 0x71, 0xe0,
    0x00, 0x7e, 0xe0,
    0x07, 0x7e, 0xe0,
    0x38, 0x7e, 0xe0,
    0x3f, 0x7e, 0xe0,
    0xc0, 0x7f, 0xe0,
    0xc7, 0x7f, 0xe0,
    0xf8, 0x7f, 0xe0,
    0xff, 0x7f, 0xe0,
    0x00, 0x80, 0xe3,
    0x07, 0x80, 0xe3,
    0x38, 0x80, 0xe3,
    0x3f, 0x80, 0xe3,
    0xc0, 0x81, 0xe3,
    0xc7, 0x81, 0xe3,
    0xf8, 0x81, 0xe3,
    0xff, 0x81, 0xe3,
    0x00, 0x8e, 0xe3,
    0x07, 0x8e, 0xe3,
    0x38, 0x8e, 0xe3,
    0x3f, 0x8e, 0xe3,
    0xc0, 0x8f, 0xe3,
    0xc7, 0x8f, 0xe3,
    0xf8, 0x8f, 0xe3,
    0xff, 0x8f, 0xe3,
    0x00, 0xf0, 0xe3,
    0x07, 0xf0, 0xe3,
    0x38, 0xf0, 0xe3,
    0x3f, 0xf0, 0xe3,
    0xc0, 0xf1, 0xe3,
    0xc7, 0xf1, 0xe3,
    0xf8, 0xf1, 0xe3,
    0xff, 0xf1, 0xe3,
    0x00, 0xfe, 0xe3,
    0x07, 0xfe, 0xe3,
    0x38, 0xfe, 0xe3,
    0x3f, 0xfe, 0xe3,
    0xc0, 0xff, 0xe3,
    0xc7, 0xff, 0xe3,
    0xf8, 0xff, 0xe3,
    0xff, 0xff, 0xe3,
    0x00, 0x00, 0xfc,
    0x07, 0x00, 0xfc,
    0x38, 0x00, 0xfc,
    0x3f, 0x00, 0xfc,
    0xc0, 0x01, 0xfc,
    0xc7, 0x01, 0xfc,
    0xf8, 0x01, 0xfc,
    0xff, 0x01, 0xfc,
    0x00, 0x0e, 0xfc,
    0x07, 0x0e, 0xfc,
    0x38, 0x0e, 0xfc,
    0x3f, 0x0e, 0xfc,
    0xc0, 0x0f, 0xfc,
    0xc7, 0x0f, 0xfc,
    0xf8, 0x0f, 0xfc,
    0xff, 0x0f, 0xfc,
    0x00, 0x70, 0xfc,
    0x07, 0x70, 0xfc,
    0x38, 0x70, 0xfc,
    0x3f, 0x70, 0xfc,
    0xc0, 0x71, 0xfc,
    0xc7, 0x71, 0xfc,
    0xf8, 0x71, 0xfc,
    0xff, 0x71, 0xfc,
    0x00, 0x7e, 0xfc,
    0x07, 0x7e, 0xfc,
    0x38, 0x7e, 0xfc,
    0x3f, 0x7e, 0xfc,
    0xc0, 0x7f, 0xfc,
    0xc7, 0x7f, 0xfc,
    0xf8, 0x7f, 0xfc,
    0xff, 0x7f, 0xfc,
    0x00, 0x80, 0xff,
    0x07, 0x80, 0xff,
    0x38, 0x80, 0xff,
    0x3f, 0x80, 0xff,
    0xc0, 0x81, 0xff,
    0xc7, 0x81, 0xff,
    0xf8, 0x81, 0xff,
    0xff, 0x81, 0xff,
    0x00, 0x8e, 0xff,
    0x07, 0x8e, 0xff,
    0x38, 0x8e, 0xff,
    0x3f, 0x8e, 0xff,
    0xc0, 0x8f, 0xff,
    0xc7, 0x8f, 0xff,
    0xf8, 0x8f, 0xff,
    0xff, 0x8f, 0xff,
    0x00, 0xf0, 0xff,
    0x07, 0xf0, 0xff,
    0x38, 0xf0, 0xff,
    0x3f, 0xf0, 0xff,
    0xc0, 0xf1, 0xff,
    0xc7, 0xf1, 0xff,
    0xf8, 0xf1, 0xff,
    0xff, 0xf1, 0xff,
    0x00, 0xfe, 0xff,
    0x07, 0xfe, 0xff,
    0x38, 0xfe, 0xff,
    0x3f, 0xfe, 0xff,
    0xc0, 0xff, 0xff,
    0xc7, 0xff, 0xff,
    0xf8, 0xff, 0xff,
    0xff, 0xff, 0xff
};

/*纵向2倍放大转换数组，第一维是单字节数据值，第二维是转换后的字节*/
//const unsigned char c_ucVerticalZoom2[256][2] =
const unsigned char g_pucZoom2Buf[TPFC_VAR_ZOOM2_LEN] = {
    0x00, 0x00,
    0x03, 0x00,
    0x0c, 0x00,
    0x0f, 0x00,
    0x30, 0x00,
    0x33, 0x00,
    0x3c, 0x00,
    0x3f, 0x00,
    0xc0, 0x00,
    0xc3, 0x00,
    0xcc, 0x00,
    0xcf, 0x00,
    0xf0, 0x00,
    0xf3, 0x00,
    0xfc, 0x00,
    0xff, 0x00,
    0x00, 0x03,
    0x03, 0x03,
    0x0c, 0x03,
    0x0f, 0x03,
    0x30, 0x03,
    0x33, 0x03,
    0x3c, 0x03,
    0x3f, 0x03,
    0xc0, 0x03,
    0xc3, 0x03,
    0xcc, 0x03,
    0xcf, 0x03,
    0xf0, 0x03,
    0xf3, 0x03,
    0xfc, 0x03,
    0xff, 0x03,
    0x00, 0x0c,
    0x03, 0x0c,
    0x0c, 0x0c,
    0x0f, 0x0c,
    0x30, 0x0c,
    0x33, 0x0c,
    0x3c, 0x0c,
    0x3f, 0x0c,
    0xc0, 0x0c,
    0xc3, 0x0c,
    0xcc, 0x0c,
    0xcf, 0x0c,
    0xf0, 0x0c,
    0xf3, 0x0c,
    0xfc, 0x0c,
    0xff, 0x0c,
    0x00, 0x0f,
    0x03, 0x0f,
    0x0c, 0x0f,
    0x0f, 0x0f,
    0x30, 0x0f,
    0x33, 0x0f,
    0x3c, 0x0f,
    0x3f, 0x0f,
    0xc0, 0x0f,
    0xc3, 0x0f,
    0xcc, 0x0f,
    0xcf, 0x0f,
    0xf0, 0x0f,
    0xf3, 0x0f,
    0xfc, 0x0f,
    0xff, 0x0f,
    0x00, 0x30,
    0x03, 0x30,
    0x0c, 0x30,
    0x0f, 0x30,
    0x30, 0x30,
    0x33, 0x30,
    0x3c, 0x30,
    0x3f, 0x30,
    0xc0, 0x30,
    0xc3, 0x30,
    0xcc, 0x30,
    0xcf, 0x30,
    0xf0, 0x30,
    0xf3, 0x30,
    0xfc, 0x30,
    0xff, 0x30,
    0x00, 0x33,
    0x03, 0x33,
    0x0c, 0x33,
    0x0f, 0x33,
    0x30, 0x33,
    0x33, 0x33,
    0x3c, 0x33,
    0x3f, 0x33,
    0xc0, 0x33,
    0xc3, 0x33,
    0xcc, 0x33,
    0xcf, 0x33,
    0xf0, 0x33,
    0xf3, 0x33,
    0xfc, 0x33,
    0xff, 0x33,
    0x00, 0x3c,
    0x03, 0x3c,
    0x0c, 0x3c,
    0x0f, 0x3c,
    0x30, 0x3c,
    0x33, 0x3c,
    0x3c, 0x3c,
    0x3f, 0x3c,
    0xc0, 0x3c,
    0xc3, 0x3c,
    0xcc, 0x3c,
    0xcf, 0x3c,
    0xf0, 0x3c,
    0xf3, 0x3c,
    0xfc, 0x3c,
    0xff, 0x3c,
    0x00, 0x3f,
    0x03, 0x3f,
    0x0c, 0x3f,
    0x0f, 0x3f,
    0x30, 0x3f,
    0x33, 0x3f,
    0x3c, 0x3f,
    0x3f, 0x3f,
    0xc0, 0x3f,
    0xc3, 0x3f,
    0xcc, 0x3f,
    0xcf, 0x3f,
    0xf0, 0x3f,
    0xf3, 0x3f,
    0xfc, 0x3f,
    0xff, 0x3f,
    0x00, 0xc0,
    0x03, 0xc0,
    0x0c, 0xc0,
    0x0f, 0xc0,
    0x30, 0xc0,
    0x33, 0xc0,
    0x3c, 0xc0,
    0x3f, 0xc0,
    0xc0, 0xc0,
    0xc3, 0xc0,
    0xcc, 0xc0,
    0xcf, 0xc0,
    0xf0, 0xc0,
    0xf3, 0xc0,
    0xfc, 0xc0,
    0xff, 0xc0,
    0x00, 0xc3,
    0x03, 0xc3,
    0x0c, 0xc3,
    0x0f, 0xc3,
    0x30, 0xc3,
    0x33, 0xc3,
    0x3c, 0xc3,
    0x3f, 0xc3,
    0xc0, 0xc3,
    0xc3, 0xc3,
    0xcc, 0xc3,
    0xcf, 0xc3,
    0xf0, 0xc3,
    0xf3, 0xc3,
    0xfc, 0xc3,
    0xff, 0xc3,
    0x00, 0xcc,
    0x03, 0xcc,
    0x0c, 0xcc,
    0x0f, 0xcc,
    0x30, 0xcc,
    0x33, 0xcc,
    0x3c, 0xcc,
    0x3f, 0xcc,
    0xc0, 0xcc,
    0xc3, 0xcc,
    0xcc, 0xcc,
    0xcf, 0xcc,
    0xf0, 0xcc,
    0xf3, 0xcc,
    0xfc, 0xcc,
    0xff, 0xcc,
    0x00, 0xcf,
    0x03, 0xcf,
    0x0c, 0xcf,
    0x0f, 0xcf,
    0x30, 0xcf,
    0x33, 0xcf,
    0x3c, 0xcf,
    0x3f, 0xcf,
    0xc0, 0xcf,
    0xc3, 0xcf,
    0xcc, 0xcf,
    0xcf, 0xcf,
    0xf0, 0xcf,
    0xf3, 0xcf,
    0xfc, 0xcf,
    0xff, 0xcf,
    0x00, 0xf0,
    0x03, 0xf0,
    0x0c, 0xf0,
    0x0f, 0xf0,
    0x30, 0xf0,
    0x33, 0xf0,
    0x3c, 0xf0,
    0x3f, 0xf0,
    0xc0, 0xf0,
    0xc3, 0xf0,
    0xcc, 0xf0,
    0xcf, 0xf0,
    0xf0, 0xf0,
    0xf3, 0xf0,
    0xfc, 0xf0,
    0xff, 0xf0,
    0x00, 0xf3,
    0x03, 0xf3,
    0x0c, 0xf3,
    0x0f, 0xf3,
    0x30, 0xf3,
    0x33, 0xf3,
    0x3c, 0xf3,
    0x3f, 0xf3,
    0xc0, 0xf3,
    0xc3, 0xf3,
    0xcc, 0xf3,
    0xcf, 0xf3,
    0xf0, 0xf3,
    0xf3, 0xf3,
    0xfc, 0xf3,
    0xff, 0xf3,
    0x00, 0xfc,
    0x03, 0xfc,
    0x0c, 0xfc,
    0x0f, 0xfc,
    0x30, 0xfc,
    0x33, 0xfc,
    0x3c, 0xfc,
    0x3f, 0xfc,
    0xc0, 0xfc,
    0xc3, 0xfc,
    0xcc, 0xfc,
    0xcf, 0xfc,
    0xf0, 0xfc,
    0xf3, 0xfc,
    0xfc, 0xfc,
    0xff, 0xfc,
    0x00, 0xff,
    0x03, 0xff,
    0x0c, 0xff,
    0x0f, 0xff,
    0x30, 0xff,
    0x33, 0xff,
    0x3c, 0xff,
    0x3f, 0xff,
    0xc0, 0xff,
    0xc3, 0xff,
    0xcc, 0xff,
    0xcf, 0xff,
    0xf0, 0xff,
    0xf3, 0xff,
    0xfc, 0xff,
    0xff, 0xff
};

/*半字节压缩数组，宽松压缩模式，两位有一位为1即认为是黑点*/
//const unsigned char c_ucByteLooseCompress[16] =
const unsigned char g_pucLooseCompressBuf[TPFC_VAR_LOOSECOMPRESS_LEN] = {
    0x00, 0x01, 0x01, 0x01, 0x02, 0x03, 0x03, 0x03,
    0x02, 0x03, 0x03, 0x03, 0x02, 0x03, 0x03, 0x03,
};

/*半字节压缩数组，紧凑压缩模式，两位都为1才认为是黑点*/
//const unsigned char c_ucByteCloseCompress[16] =
const unsigned char g_pucCloseCompressBuf[TPFC_VAR_CLOSECOMPRESS_LEN] = {
    0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x01,
    0x00, 0x00, 0x00, 0x01, 0x02, 0x02, 0x02, 0x03,
};





/* End of this file */

